this.primereact=this.primereact||{},this.primereact.fileupload=function(e,t,n,l,a,r,o,i){"use strict";function s(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var l=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,l.get?l:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var c=s(t);function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},u.apply(this,arguments)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function f(e){if(Array.isArray(e))return m(e)}function d(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function y(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function b(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e){return f(e)||d(e)||y(e)||b()}function h(e){if(Array.isArray(e))return e}function g(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var l,a,r=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(l=n.next()).done)&&(r.push(l.value),!t||r.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw a}}return r}}function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t){return h(e)||g(e,t)||y(e,t)||O()}function S(e){throw new TypeError('"'+e+'" is read-only')}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=B(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,a=function(){};return{s:a,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){i=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw r}}}}function B(e,t){if(e){if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}var T=c.memo(c.forwardRef((function(e,t){var s=E(c.useState([]),2),p=s[0],m=s[1],f=E(c.useState(0),2),d=f[0],y=f[1],b=E(c.useState(!1),2),h=b[0],g=b[1],O=E(c.useState(!1),2),w=O[0],B=O[1],U=c.useRef(null),D=c.useRef(null),C=c.useRef(null),P=c.useRef(!1),F=c.useRef(0),M=i.ObjectUtils.isNotEmpty(p),z=e.disabled||w,I=e.chooseLabel||e.chooseOptions.label||n.localeOption("choose"),L=e.uploadLabel||e.uploadOptions.label||n.localeOption("upload"),R=e.cancelLabel||e.cancelOptions.label||n.localeOption("cancel"),x=z||e.fileLimit&&e.fileLimit<=p.length+F,A=z||!M,k=z||!M,H=function(e){return/^image\//.test(e.type)},_=function(t,n){X();var l=v(p),a=p[n];l.splice(n,1),m(l),e.onRemove&&e.onRemove({originalEvent:t,file:a})},X=function(){U.current&&(U.current.value="")},J=function(e){if(0===e)return"0 B";var t=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/Math.pow(1e3,t)).toFixed(3))+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t]},K=function(t){if("drop"!==t.type&&W()&&P.current)P.current=!1;else{var n=[];e.multiple&&(n=p?v(p):[]);for(var l=t.dataTransfer?t.dataTransfer.files:t.target.files,a=0;a<l.length;a++){var r=l[a];!V(r)&&Y(r)&&(H(r)&&(r.objectURL=window.URL.createObjectURL(r)),n.push(r))}m(n),i.ObjectUtils.isNotEmpty(n)&&e.auto&&$(n),e.onSelect&&e.onSelect({originalEvent:t,files:l}),"drop"!==t.type&&W()?U.current&&(P.current=!0,U.current.value=""):X(),"basic"===e.mode&&n.length>0&&(U.current.style.display="none")}},V=function(e){return p.some((function(t){return t.name+t.type+t.size===e.name+e.type+e.size}))},W=function(){return!!window.MSInputMethodContext&&!!document.documentMode},Y=function(t){if(e.maxFileSize&&t.size>e.maxFileSize){var n={severity:"error",summary:e.invalidFileSizeMessageSummary.replace("{0}",t.name),detail:e.invalidFileSizeMessageDetail.replace("{0}",J(e.maxFileSize)),sticky:!0};return"advanced"===e.mode&&D.current.show(n),e.onValidationFail&&e.onValidationFail(t),!1}return!0},$=function(t){if((t=t||p)&&t.nativeEvent&&(t=p),e.customUpload)e.fileLimit&&S("uploadedFileCount"),e.uploadHandler&&e.uploadHandler({files:t,options:{clear:q,props:e}});else{B(!0);var n=new XMLHttpRequest,l=new FormData;e.onBeforeUpload&&e.onBeforeUpload({xhr:n,formData:l});var a,r=j(t);try{for(r.s();!(a=r.n()).done;){var o=a.value;l.append(e.name,o,o.name)}}catch(e){r.e(e)}finally{r.f()}n.upload.addEventListener("progress",(function(t){if(t.lengthComputable){var n=Math.round(100*t.loaded/t.total);y(n),e.onProgress&&e.onProgress({originalEvent:t,progress:n})}})),n.onreadystatechange=function(){4===n.readyState&&(y(0),B(!1),n.status>=200&&n.status<300?(e.fileLimit&&S("uploadedFileCount"),e.onUpload&&e.onUpload({xhr:n,files:t})):e.onError&&e.onError({xhr:n,files:t}),q())},n.open("POST",e.url,!0),e.onBeforeSend&&e.onBeforeSend({xhr:n,formData:l}),n.withCredentials=e.withCredentials,n.send(l)}},q=function(){m([]),B(!1),e.onClear&&e.onClear(),X()},G=function(){U.current.click()},Z=function(){g(!0)},Q=function(){g(!1)},ee=function(e){13===e.which&&G()},te=function(e){z||(e.dataTransfer.dropEffect="copy",e.stopPropagation(),e.preventDefault())},ne=function(e){z||(e.dataTransfer.dropEffect="copy",i.DomHandler.addClass(C.current,"p-fileupload-highlight"),e.stopPropagation(),e.preventDefault())},le=function(e){z||(e.dataTransfer.dropEffect="copy",i.DomHandler.removeClass(C.current,"p-fileupload-highlight"))},ae=function(t){if(!e.disabled&&(i.DomHandler.removeClass(C.current,"p-fileupload-highlight"),t.stopPropagation(),t.preventDefault(),!e.onBeforeDrop||!1!==e.onBeforeDrop(t))){var n=t.dataTransfer?t.dataTransfer.files:t.target.files;(e.multiple||i.ObjectUtils.isEmpty(p)&&n&&1===n.length)&&K(t)}},re=function(){!z&&M?$():U.current.click()};c.useImperativeHandle(t,(function(){return N({upload:$,clear:q,formatSize:J,getInput:function(){return U.current},getContent:function(){return C.current}},e)}));var oe,ie,se,ce,ue,pe,me,fe,de,ye,be=function(t,n){var a=t.name+t.type+t.size,r=H(t)?c.createElement("div",null,c.createElement("img",{alt:t.name,role:"presentation",src:t.objectURL,width:e.previewWidth})):null,o=c.createElement("div",{className:"p-fileupload-filename"},t.name),s=c.createElement("div",null,J(t.size)),u=c.createElement("div",null,c.createElement(l.Button,{type:"button",icon:"pi pi-times",onClick:function(e){return _(e,n)},disabled:z})),p=c.createElement(c.Fragment,null,r,o,s,u);if(e.itemTemplate){var m={onRemove:function(e){return _(e,n)},previewElement:r,fileNameElement:o,sizeElement:s,removeElement:u,formatSize:J(t.size),element:p,props:e};p=i.ObjectUtils.getJSXElement(e.itemTemplate,t,m)}return c.createElement("div",{className:"p-fileupload-row",key:a},p)};return"advanced"===e.mode?function(){var t,n,s,m,f,y,b,v,g,O,E,S,w,N,j=i.ObjectUtils.findDiffKeys(e,T.defaultProps),B=i.classNames("p-fileupload p-fileupload-advanced p-component",e.className),P=i.classNames("p-fileupload-buttonbar",e.headerClassName),F=i.classNames("p-fileupload-content",e.contentClassName),H=(n=(t=e.chooseOptions).style,s=t.icon,f=i.classNames("p-button p-fileupload-choose p-component",{"p-disabled":z,"p-focus":h,"p-button-icon-only":m=t.iconOnly},t.className),y="p-button-label p-clickable",b=m?c.createElement("span",{className:y,dangerouslySetInnerHTML:{__html:"&nbsp;"}}):c.createElement("span",{className:y},I),v=c.createElement("input",{ref:U,type:"file",onChange:K,multiple:e.multiple,accept:e.accept,disabled:x}),g=i.IconUtils.getJSXIcon(s||"pi pi-fw pi-plus",{className:"p-button-icon p-button-icon-left p-clickable"},{props:e}),c.createElement("span",{className:f,style:n,onClick:G,onKeyDown:ee,onFocus:Z,onBlur:Q,tabIndex:0},v,g,b,c.createElement(o.Ripple,null))),_=e.emptyTemplate&&!M?i.ObjectUtils.getJSXElement(e.emptyTemplate,e):null;if(!e.auto){var X=e.uploadOptions,J=e.cancelOptions,V=J.iconOnly?"":R;O=c.createElement(l.Button,{type:"button",label:X.iconOnly?"":L,icon:X.icon||"pi pi-upload",onClick:$,disabled:A,style:X.style,className:X.className}),E=c.createElement(l.Button,{type:"button",label:V,icon:J.icon||"pi pi-times",onClick:q,disabled:k,style:J.style,className:J.className})}M&&(N=p.map(be),S=c.createElement("div",{className:"p-fileupload-files"},N),w=e.progressBarTemplate?i.ObjectUtils.getJSXElement(e.progressBarTemplate,e):c.createElement(r.ProgressBar,{value:d,showValue:!1}));var W=c.createElement("div",{className:P,style:e.headerStyle},H,O,E);e.headerTemplate&&(W=i.ObjectUtils.getJSXElement(e.headerTemplate,{className:P,chooseButton:H,uploadButton:O,cancelButton:E,element:W,props:e}));return c.createElement("div",u({id:e.id,className:B,style:e.style},j),W,c.createElement("div",{ref:C,className:F,style:e.contentStyle,onDragEnter:te,onDragOver:ne,onDragLeave:le,onDrop:ae},w,c.createElement(a.Messages,{ref:D}),S,_))}():"basic"===e.mode?(oe=e.chooseOptions,ie=i.ObjectUtils.findDiffKeys(e,T.defaultProps),se=i.classNames("p-fileupload p-fileupload-basic p-component",e.className),ce=i.classNames("p-button p-component p-fileupload-choose",{"p-fileupload-choose-selected":M,"p-disabled":z,"p-focus":h},oe.className),ue=oe.icon||i.classNames({"pi pi-plus":!oe.icon&&(!M||e.auto),"pi pi-upload":!oe.icon&&M&&!e.auto}),pe="p-button-label p-clickable",me=oe.iconOnly?c.createElement("span",{className:pe,dangerouslySetInnerHTML:{__html:"&nbsp;"}}):c.createElement("span",{className:pe},I),fe=e.auto?me:c.createElement("span",{className:pe},M?p[0].name:me),de=i.IconUtils.getJSXIcon(ue,{className:"p-button-icon p-button-icon-left"},{props:e,hasFiles:M}),ye=!M&&c.createElement("input",{ref:U,type:"file",accept:e.accept,multiple:e.multiple,disabled:z,onChange:K}),c.createElement("div",u({className:se,style:e.style},ie),c.createElement(a.Messages,{ref:D}),c.createElement("span",{className:ce,style:oe.style,onMouseUp:re,onKeyDown:ee,onFocus:Z,onBlur:Q,tabIndex:0},de,fe,ye,c.createElement(o.Ripple,null)))):void 0})));return T.displayName="FileUpload",T.defaultProps={__TYPE:"FileUpload",id:null,name:null,url:null,mode:"advanced",multiple:!1,accept:null,disabled:!1,auto:!1,maxFileSize:null,invalidFileSizeMessageSummary:"{0}: Invalid file size, ",invalidFileSizeMessageDetail:"maximum upload size is {0}.",style:null,className:null,widthCredentials:!1,previewWidth:50,chooseLabel:null,uploadLabel:null,cancelLabel:null,chooseOptions:{label:null,icon:null,iconOnly:!1,className:null,style:null},uploadOptions:{label:null,icon:null,iconOnly:!1,className:null,style:null},cancelOptions:{label:null,icon:null,iconOnly:!1,className:null,style:null},customUpload:!1,headerClassName:null,headerStyle:null,contentClassName:null,contentStyle:null,headerTemplate:null,itemTemplate:null,emptyTemplate:null,progressBarTemplate:null,onBeforeUpload:null,onBeforeSend:null,onBeforeDrop:null,onUpload:null,onError:null,onClear:null,onSelect:null,onProgress:null,onValidationFail:null,uploadHandler:null,onRemove:null},e.FileUpload=T,Object.defineProperty(e,"__esModule",{value:!0}),e}({},React,primereact.api,primereact.button,primereact.messages,primereact.progressbar,primereact.ripple,primereact.utils);
