"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=require("primereact/hooks"),n=require("primereact/utils");function t(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var t=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,t.get?t:{enumerable:!0,get:function(){return e[n]}})}})),r.default=e,Object.freeze(r)}var a=t(e);function l(){return l=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},l.apply(this,arguments)}function i(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function o(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function u(e){if(Array.isArray(e))return o(e)}function c(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e,r){if(e){if("string"==typeof e)return o(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,r):void 0}}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e){if(Array.isArray(e))return e}function p(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,l=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(t=n.next()).done)&&(l.push(t.value),!r||l.length!==r);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(o)throw a}}return l}}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,r){return d(e)||p(e,r)||s(e,r)||m()}function v(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function y(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?v(Object(n),!0).forEach((function(r){i(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var h=a.memo(a.forwardRef((function(e,t){var i=a.useRef(null),o=a.useRef(0),d=a.useRef(!1),p=a.useRef(!1),m=a.useRef(0),v=a.useRef(0),g=a.useRef(0),O=a.useRef(0),w=e.range?e.value||[0,100]:e.value||0,E="horizontal"===e.orientation,j="vertical"===e.orientation,S=b(r.useEventListener({type:"mousemove",listener:function(e){return z(e)}}),2),x=S[0],P=S[1],A=b(r.useEventListener({type:"mouseup",listener:function(e){return F(e)}}),2),D=A[0],R=A[1],I=b(r.useEventListener({type:"touchmove",listener:function(e){return z(e)}}),2),N=I[0],C=I[1],M=b(r.useEventListener({type:"touchend",listener:function(e){return F(e)}}),2),L=M[0],_=M[1],k=function(r,n){K(r,(e.range?w[o.current]:w)+(e.step||1)*n),r.preventDefault()},T=function(r,n){e.disabled||(p.current=!0,W(),d.current=!0,o.current=n)},z=function(e){p.current&&(Y(e),e.preventDefault())},F=function(r){p.current&&(p.current=!1,e.onSlideEnd&&e.onSlideEnd({originalEvent:r,value:e.value}),P(),R(),C(),_())},H=function(e,r){x(),D(),T(0,r)},q=function(e,r){N(),L(),T(0,r)},U=function(r,n){if(!e.disabled){o.current=n;var t=r.key;"ArrowRight"===t||"ArrowUp"===t?k(r,1):"ArrowLeft"!==t&&"ArrowDown"!==t||k(r,-1)}},W=function(){var e=i.current.getBoundingClientRect();m.current=e.left+n.DomHandler.getWindowScrollLeft(),v.current=e.top+n.DomHandler.getWindowScrollTop(),g.current=i.current.offsetWidth,O.current=i.current.offsetHeight},Y=function(r){var n=(E?100*((r.touches?r.touches[0].pageX:r.pageX)-m.current)/g.current:100*(v.current+O.current-(r.touches?r.touches[0].pageY:r.pageY))/O.current)/100*(e.max-e.min)+e.min;if(e.step){var t=e.range?w[o.current]:w,a=n-t;a<0?n=t+Math.ceil(n/e.step-t/e.step)*e.step:a>0&&(n=t+Math.floor(n/e.step-t/e.step)*e.step)}else n=Math.floor(n);return K(r,n)},K=function(r,n){var t,a=parseFloat(n.toFixed(10)),l=a;return e.range?(0===o.current?a<e.min?a=e.min:a>w[1]&&(a=w[1]):a>e.max?a=e.max:a<w[0]&&(a=w[0]),(l=u(t=w)||c(t)||s(t)||f())[o.current]=a,e.onChange&&e.onChange({originalEvent:r,value:l})):(a<e.min?a=e.min:a>e.max&&(a=e.max),l=a,e.onChange&&e.onChange({originalEvent:r,value:l})),l},X=function(r,t,l){var i={transition:p.current?"none":null,left:null!==r&&r+"%",bottom:t&&t+"%"},u=n.classNames("p-slider-handle",{"p-slider-handle-start":0===l,"p-slider-handle-end":1===l,"p-slider-handle-active":o.current===l});return a.createElement("span",{className:u,style:i,tabIndex:e.tabIndex,role:"slider",onMouseDown:function(e){return H(0,l)},onTouchStart:function(e){return q(0,l)},onKeyDown:function(e){return U(e,l)},"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":r||t,"aria-labelledby":e["aria-labelledby"],"aria-label":e["aria-label"],"aria-orientation":e.orientation})};a.useImperativeHandle(t,(function(){return y({getElement:function(){return i.current}},e)}));var B,$,G,J,Q=n.ObjectUtils.findDiffKeys(e,h.defaultProps),V=n.classNames("p-slider p-component",e.className,{"p-disabled":e.disabled,"p-slider-horizontal":E,"p-slider-vertical":j}),Z=e.range?(B=100*(w[0]<e.min?0:w[0]-e.min)/(e.max-e.min),$=100*(w[1]>e.max?100:w[1]-e.min)/(e.max-e.min),G=E?X(B,null,0):X(null,B,0),J=E?X($,null,1):X(null,$,1),a.createElement(a.Fragment,null,a.createElement("span",{className:"p-slider-range",style:E?{left:B+"%",width:$-B+"%"}:{bottom:B+"%",height:$-B+"%"}}),G,J)):function(){var r;r=w<e.min?0:w>e.max?100:100*(w-e.min)/(e.max-e.min);var n=E?{width:r+"%"}:{height:r+"%"},t=E?X(r,null,null):X(null,r,null);return a.createElement(a.Fragment,null,a.createElement("span",{className:"p-slider-range",style:n}),t)}();return a.createElement("div",l({ref:i,id:e.id,style:e.style,className:V},Q,{onClick:function(r){if(!e.disabled){if(!d.current){W();var n=Y(r);e.onSlideEnd&&e.onSlideEnd({originalEvent:r,value:n})}d.current=!1}}}),Z)})));h.displayName="Slider",h.defaultProps={__TYPE:"Slider",id:null,value:null,min:0,max:100,orientation:"horizontal",step:null,range:!1,style:null,className:null,disabled:!1,tabIndex:0,onChange:null,onSlideEnd:null,"aria-label":null,"aria-labelledby":null},exports.Slider=h;
