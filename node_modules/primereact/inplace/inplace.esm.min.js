import*as e from"react";import{Button as n}from"primereact/button";import{ObjectUtils as t,classNames as r}from"primereact/utils";function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(){return l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},l.apply(this,arguments)}function a(e){if(Array.isArray(e))return e}function i(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,l=[],a=!0,i=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(l.push(r.value),!n||l.length!==n);a=!0);}catch(e){i=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(i)throw o}}return l}}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function u(e,n){if(e){if("string"==typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,n):void 0}}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var d=function(e){return e.children},y=function(e){return e.children},b=e.forwardRef((function(o,c){var s,m,v=e.useState(o.active),g=(m=2,a(s=v)||i(s,m)||u(s,m)||p()),O=g[0],P=g[1],h=e.useRef(null),j=o.onToggle?o.active:O,E=function(e){return e&&"InplaceContent"===e.props.__TYPE},I=function(e){return e&&"InplaceDisplay"===e.props.__TYPE},w=function(e){o.disabled||(o.onOpen&&o.onOpen(e),o.onToggle?o.onToggle({originalEvent:e,value:!0}):P(!0))},D=function(e){o.onClose&&o.onClose(e),o.onToggle?o.onToggle({originalEvent:e,value:!1}):P(!1)},T=function(e){"Enter"===e.key&&(w(e),e.preventDefault())},C=function(n){var a=t.findDiffKeys(n.props,d.defaultProps),i=r("p-inplace-display",{"p-disabled":o.disabled});return e.createElement("div",l({className:i},a,{onClick:w,onKeyDown:T,tabIndex:o.tabIndex,"aria-label":o.ariaLabel}),n)},_=function(r){var a=t.findDiffKeys(r.props,y.defaultProps),i=o.closable?e.createElement(n,{type:"button",className:"p-inplace-content-close",icon:"pi pi-times",onClick:D}):null;return e.createElement("div",l({className:"p-inplace-content"},a),r,i)};e.useImperativeHandle(c,(function(){return f({getElement:function(){return h.current}},o)}));var N=t.findDiffKeys(o,b.defaultProps),S=e.Children.map(o.children,(function(e){return j&&E(e)?_(e):!j&&I(e)?C(e):void 0})),A=r("p-inplace p-component",{"p-inplace-closable":o.closable},o.className);return e.createElement("div",l({ref:h,className:A},N),S)}));d.displayName="InplaceDisplay",d.defaultProps={__TYPE:"InplaceDisplay"},y.displayName="InplaceContent",y.defaultProps={__TYPE:"InplaceContent"},b.displayName="Inplace",b.defaultProps={__TYPE:"Inplace",style:null,className:null,active:!1,closable:!1,disabled:!1,tabIndex:0,ariaLabel:null,onOpen:null,onClose:null,onToggle:null};export{b as Inplace,y as InplaceContent,d as InplaceDisplay};
